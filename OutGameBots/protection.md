# Методы защиты от внеигровых ботов

Мы разработали бота для NetChess. Это простое приложение для игры в шахматы двух пользователей по локальной сети. Современные онлайн игры насчитывают тысячи пользователей, которые подключаются к серверу через Интернет. Несмотря на эти различия, разработка внеигровых ботов в обоих случаях пойдёт по одному и тому же плану. Прежде всего необходимо изучить протокол взаимодействия игрового клиента и сервера.

У приложения NetChess нет никакой защиты от реверс-инжиниринга и внеигровых ботов. Именно по этой причине нам так быстро удалось понять его протокол. Если вы попробуйте проделать то же самое с современной онлайн игрой, возникнут затруднения. Скорее всего, вы не сможете так просто установить соответствие между действиями игрока и данными в перехваченных пакетах. Одни и те же действия меняют байты по разным смещениям без какой-либо закономерности. Если вы столкнулись с подобным поведением, значит игра имеет систему защиты. Самый надёжный и широко применяемый подход для защиты трафика приложения - это шифрование.

В главе 3 мы рассмотрели два алгоритма шифрования применительно к защите памяти приложения. Теперь рассмотрим, как применить эти и другие алгоритмы к сетевому трафику.

## Криптосистема

Перед тем, как перейти к практическим примерами, рассмотрим понятие [**криптосистемы**](https://ru.wikipedia.org/wiki/Криптосистема). Криптосистема - это набор криптографических алгоритмов для обеспечения конфиденциальности информации. Как правило, криптосистема имеет три алгоритма для следующих целей:

1. Генерация ключа шифрования.

2. Шифрование.

3. Дешифрование.

Термин [**шифр**](https://ru.wikipedia.org/wiki/Шифр) относится только к алгоритмам шифрования и дешифрования. Первый же из алгоритмов в списке использется для создания [**секретного ключа**](https://ru.wikipedia.org/wiki/Ключ_(криптография)), который удовлетворяет требованиям шифра.

Как работает шифрование? Предположим, что у нас есть некотоаря информация (например сообщение), которое мы хотим защитить от несанкционированного чтения. Эта информация называется [**открытый текст**](https://ru.wikipedia.org/wiki/Открытый_текст) (plaintext). Открытый текст вместе с секретным ключом передаётся алгоритму шифрования. После отработки алгоритм выдаст информацию в зашифрованном виде или [**шифротекст**](https://ru.wikipedia.org/wiki/Шифротекст). Чтобы снова получить открытый текст, необходимо передать шифротекст и ключ в алгоритм дешифрования. Это значит, что исходное сообщение смогут прочитать только те получатели, которые знают ключ и алгоритм шифрования.

Мы рассмотрели работу типичной криптосистемы в общих чертах. В реальных системах могут быть дополнительные шаги шифрования и дешифрования, а также возможности управления ключами.


